<html>
	<head>	
		<title>Bookstore (remember?!)</title>	
		<style>
			/* CSS Styling */
			#frame {
				width: 100%;
			}
			#inputs {
				width: 30em;
			}

			.book {
				padding: 10pc;
				border: 1px solid red; 
			}

			#books {
				width: 30em; /*makes the 'border' less wide */
			}

			.text_style {
				font-weight: bold; /*Just because we can */
			}

			/* Many divs can have thsame class, but not the same ID
			/*You can also do border-bottom, then it would only show the top and bottom borders
			/*Or eg. "dash red"

		</style>
		<!-- SCRIPTS -->
		<!-- import handlebars -->		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
		<!-- import jquery -->		
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>				
	</head>
	<body>		
		<!-- HTML -->
		<label>Bookstore (remember?!)</label>
		<div id="frame">

			<div id="inputs">
				<input type="button" value="Get some books" onclick="get_books();"/>
				<input id="nbr_books" type="number" value="2" min="1" max="5">
			</div>

			 
			<div id="books"> 															<!-- we uncommented this in class -->
				<script id="books-template" type="text/x-handlebars-template">
					{{#each this}}
					<div class="book">
						<div class="title_style">Title: {{} title }}</div>
						<div class="author_style">Author: {{ author }}</div>			<!-- book are children of books -->
						<div class="price_style">Price: {{ price }}</div>
						<div class="kind_style">Kind: {{ kind }}</div>
																		<!-- this is for the handlebar things -->
					{{/each}}
				</script>
			</div>
			

		</div>		

		<!-- SCRIPTS -->
		<!-- import socket.io -->
		<script src="/socket.io/socket.io.js"></script>
		<script>
			// connect to localhost on its port (see server.js -- 8088)
		  var socket = io().connect('http://localhost:8088');
		  // when connecting 
		  socket.on('connect', function (data) {
		  	console.log('connected');
		  });
		  // when receiving a custom message form the server
		  socket.on('all the books we have', function(msg) {
		  	console.log('all the books: ' + msg);
		  });
		  
		  function compile_results_and_dispay(results) {							 //we uncommented this in class

		  	var template_script = $("#books-template").html();

			var template = Handlebars.compile(template_script);				//go get books-template

			//$('.book').remove();											//$ get element by ID

			$('#books').append(template(results));								//#books is a div in line 30
		  }
		  
		</script>		
	</body>
</html>